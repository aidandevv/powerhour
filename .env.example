# =============================================================================
# powerhour — Environment Variables
# =============================================================================
# Copy this file to .env and fill in all values.
# NEVER commit .env to version control.
# =============================================================================

# --- Plaid API ---
# Get credentials from https://dashboard.plaid.com/developers/keys
PLAID_CLIENT_ID=                  # Your Plaid client ID
PLAID_SECRET=                     # Your Plaid secret (development or production)
PLAID_ENV=development             # development | sandbox | production
PLAID_WEBHOOK_URL=                # Public URL for webhook delivery, e.g. https://finance.yourdomain.com/api/webhooks/plaid

# --- Database ---
# PostgreSQL connection string. For Docker Compose, use the internal service name:
# postgresql://finance_app:YOUR_DB_PASSWORD@db:5432/finance?sslmode=require
DATABASE_URL=
POSTGRES_USER=finance_app
POSTGRES_PASSWORD=                # Choose a strong database password
POSTGRES_DB=finance

# --- Encryption ---
# 32-byte key for AES-256-GCM encryption of Plaid access tokens.
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=                   # 64 hex characters

# --- Session ---
# Secret for iron-session cookie encryption.
# Generate with: openssl rand -hex 64
SESSION_SECRET=                   # Minimum 64 characters

# --- Authentication ---
# bcrypt hash of your dashboard password (cost factor >= 12).
# Generate with: node -e "const b=require('bcryptjs');b.hash('YOUR_PASSWORD',12).then(h=>console.log(h))"
# Used on first login; once you change password in Settings, the new hash is stored in the DB and this is ignored.
DASHBOARD_PASSWORD_HASH=          # bcrypt hash string starting with $2a$ or $2b$

# --- Application ---
NEXT_PUBLIC_APP_URL=              # e.g. https://finance.yourdomain.com

# --- Demo Mode ---
# Set both to "true" to run the app with seeded fake data (no Plaid required).
# DEMO_MODE is server-only; NEXT_PUBLIC_DEMO_MODE controls client UI (banner, demo login button).
# When enabled, the login password check is bypassed and Plaid/sync endpoints return no-ops.
DEMO_MODE=false
NEXT_PUBLIC_DEMO_MODE=false

# --- AI Agent (server-side only) ---
# Google Gemini API key for the AI financial agent.
# This key MUST NOT have the NEXT_PUBLIC_ prefix — NEXT_PUBLIC_ vars are
# bundled into client-side JavaScript and would be exposed in the browser.
# Get from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=                   # Google AI Studio API key (starts with AIza...)
